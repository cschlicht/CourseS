[[extend 'layout.html']]

<style>
[v-cloak] {
     display: none;
}
div.a {
  font-size: 15px;
  color: gray;
  white-space: pre-wrap;

  
}

div.b {
  text-align: center;
  margin-bottom: 5px;
}

div.c {
  font-size: 30px;

  color: white;


}
.box{
    display: none;
    width: 100%;
}
.iframe-container {
  text-align: center;
}
a:hover + .box,.box:hover{
    display: block;
    position: relative;
    z-index: 100;
}
.textarea{
  white-space: pre-wrap;
}


.link { color: white; } /* CSS link color (red) */
.link:hover { color: blue; } /* CSS link hover (green) */
</style>

<div class="title" style = "width:1350px; margin:20px auto; text-align: center;">Resources for [[=course.upper()]]</div>
<div class="section" id="vue-target" v-cloak>
  

  <div v-if="add_mode" class="container block">
    <div class="form">
      <!-- This looks like a form, but is not.  We just need the inputs. -->
      <div class="field">
        <div class="control">
          <textarea type="text" v-model="add_title" class="textarea" placeholder = "Title of Resource" rows = "1" ></textarea>
          <textarea type="text" v-model="add_comment" class="textarea" placeholder = "Description of Resource"></textarea>
          <textarea type="text" v-model="add_link" class="textarea" placeholder = "Link" rows = "1" ></textarea>
          
            <!-- CODE FROM GCS_FILE STORAGE FOR FILE UPLOAD -->
    
     <div class="field has-addons">
      <p class="control">
        <div class="file is-info">
          <label class="file-label">
            <input class="file-input" type="file" @change="upload_file($event)">
            <span class="file-cta">
              <span class="file-icon">
                <i v-if="uploading" class="fa fa-spinner fa-pulse fa-fw"></i>
                <i v-else class="fa fa-upload fa-fw"></i>
              </span>
              <span class="file-label">
                <span v-if="!uploading">Upload new file</span>
              </span>
            </span>
          </label>

          <div v-if = "!uploading && image_bool">
          <img width="400" :src="download_url" />
          </div>



        </div>
      </p>
      <!-- 
      <p class="control">
        <button v-if="file_path" class="button" @click="download_file"
                :class="{'disabled': !file_path}">
          <span class="icon" v-if="download_url">
            <i class="fa fa-download fa-fw"></i>
          </span>
          <span>{{file_info}}</span>
        </button>
        <button v-else class="button is-static">No file uploaded</button>
      </p>
      <p class="control" v-if='file_path'>
        <button class="button is-danger" @click="delete_file" :class="{'is-loading': deleting}">
          <span v-if="delete_confirmation">Confirm deletion</span>
          <i v-else class="fa fa-trash"></i>
        </button>
      </p>
      -->
      
      
    </div>
      <!-- END OF FILE UPLAOD CODE -->
          
        </div>
      </div>
      <div class="field">
        <div class="control">
            <input name="d_elem" type="hidden" value= "[[=course]]" id="d_elem">
        </div>
      </div>
      <div class="field">
        <div class="control">
          <input type="submit" @click="add_contact" value="Add" class="button is-primary">
          <input type="submit" @click="set_add_status(false)" value="Cancel" class="button is-warning">
        </div>
      </div>
    </div>
    
  
  </div>
    

  <div class="container block">
    <div class = "b">
      <div v-if="add_mode == false" class="container block">
        <button @click="set_add_status(true)" class="button is-primary">
          <i class="fa fa-plus fa-fw"></i>
        </button>
        <a class="button is-warning" href="[[=URL('index')]]">
          <span>Return To Main Page</span></a>
        
      </div>
    </div>
     
     <br>

  <div class="tile is-ancestor"></div>

    <div v-for="r in rows.slice().reverse()" class="block">
      
      
     
    <div v-if="r.sym == '[[=course]]'">
      
        
      
    
     <div class = "columns">
     
      <div class="column notification is-light is-half is-offset-one-quarter">

        <div v-if="r.created_by != '[[=user['email'] ]]'" class="container block"></div>
    
    <div v-else class="container block">
        <button @click="delete_contact(r._idx)" class="button is-danger" style = "float:right;">
        <i class="fa fa-trash"></i></button>


        
    </div>

      
    <div v-if="r.link != null && r.link.indexOf('youtube.com') > -1"> <!-- if we have a youtube link, normal title description + youtube player -->
        
      <div class = "c">{{r.title}}</div>
      <iframe width="600" height="400" v-bind:src="r.link" allow = "fullscreen"></iframe>
      
      
      
        
      
      
    </div>
    <div v-if="r.link != null && r.link.indexOf('youtube.com') == -1">  <!-- if we have a different link, the title should be able to be clicked on to lead to the directing website-->

  
      

      
          <div class = "c"> <a class = "link" v-bind:href = "r.link">{{r.title}}</a> </div>
          <div class ="a">
            <br>
           
          </div>
          
        
      

        
          
          
            
            
            
      
       
    </div>
  
  
      

      <div v-if="r.link == null && r.image != null"> <!-- Image Case -->
     
        <div class = "c">{{r.title}}</div>
        <img width="1000"  :src="r.image">
        
        
      </div>


    <div v-if="r.link == null && r.image == null">  <!-- No link case-->

      
      <div class = "c">{{r.title}}</div>
    
      <div class ="a">
        
      </div>


      

    </div>
    
    
      
     
      <div class = "a">
        <span style="white-space: pre-line;">{{r.description}}</span>
        
      </div> 

      
      
    
      <meta property="og:title" content="Colby Fayock - A UX Designer &amp; Front-end Developer Blog" />
<meta property="og:type" content="website" />
<meta property="og:image" content="/static/website-social-card-44070c4a901df708aa1563ac4bbe595a.jpg" />
<meta property="og:url" content="https://www.colbyfayock.com" />

      <!--

      
Live previews for <a href="https://en.wikipedia.org/">Wikipedia</a>
  <div class="box">
     <iframe src="https://en.wikipedia.org/" width = "500px" height = "500px">
     </iframe>
  </div> 
and <a href="https://www.jquery.com/">JQuery</a>
  <div class="box">
     <iframe src="https://www.jquery.com/" width = "500px" height = "500px">
     </iframe>
  </div> 
will appear when these links are moused over.
-->
      <div v-for = "u in users" class = "block">
       
        
      <div v-if = "r.id == u.item_id" class = "container block">

        <div v-if="u.status == 1" >
          

          
          <i class="fa fa-thumbs-up fa-lg" v-on:click="set_like_status(r._idx, 0, 1)"></i>
           {{r.likes}}
          <i class="fa fa-thumbs-o-down fa-lg" v-on:click="set_like_status(r._idx, 2, 1)"></i>
          {{r.dislikes}}
        
          </div>
          
        <div v-if="u.status == 2" >
          
            <i class="fa fa-thumbs-o-up fa-lg" v-on:click="set_like_status(r._idx, 1, 2)"></i>
            {{r.likes}}
            <i class="fa fa-thumbs-down fa-lg" v-on:click="set_like_status(r._idx, 0, 2)"></i>
            {{r.dislikes}}
          
         
          </div>
        <div v-if="u.status == 0" >
          
            <i class="fa fa-thumbs-o-up fa-lg" v-on:click="set_like_status(r._idx, 1, 0)" ></i>
            {{r.likes}}
            <i class="fa fa-thumbs-o-down fa-lg" v-on:click="set_like_status(r._idx, 2, 0)"></i>
            {{r.dislikes}}
          
         
          </div>
          {{r.created_by}}
        </div>
      </div>

    </div>
  </div>
      
    
    </div>
      
    </div>
    
  </div>

</div>


[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
  let load_contacts_url = "[[=XML(load_contacts_url)]]";
  let add_contact_url = "[[=XML(add_contact_url)]]";
  let delete_contact_url = "[[=XML(delete_contact_url)]]";
  let like_url = "[[=XML(like_url)]]";
  let file_info_url = "[[=XML(file_info_url)]]";
  let obtain_gcs_url = "[[=XML(obtain_gcs_url)]]";
  let notify_url = "[[=XML(notify_url)]]";
  let delete_url = "[[=XML(delete_url)]]";
</script>
<script src="js/index.js"></script>
[[end]]