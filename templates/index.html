[[extend 'layout.html']]

<style>
    h1 {
        text-align: center;
        font-size: 2.5rem !important;
        font-weight: 600;
    }
    
    h2 {
        text-align: center;
        font-size: 3.2rem !important;
    }
    
    h4 {
        text-align: center;
        font-size: 1.2rem !important;
    }
    
    p {
        text-align: center;
        font-size: 1.5rem !important;
    }
    
    .text-center {
        text-align: center;
    }
    
    datalist {
        position: absolute;
        background-color: lightgrey;
        font-family: sans-serif;
        font-size: 0.8rem;
    }
    
    option {
        background-color: #bbb;
        padding: 4px;
        margin-bottom: 1px;
        cursor: pointer;
        font-size: 35px
    }
</style>

<div class="text-center">

    <div class="columns is-mobile">
        <div class="column is-three-fifths is-offset-one-fifth">
            <img src="logo.png">
        </div>
    </div>
    <h2>Welcome to Course Source!</h2>
    <p>The ultimate resource library for your BSOE classes.</p>
    <br>
    <!--    <p>Have you ever struggled to find good resources for a class?</p>-->
    <!--    <p>Discover resources other students have found useful.</p>-->
    <p>Have you ever struggled to find good resources for a class?</p>
    <p>Discover, rate and add resources for your classes.</p>
</div>

<body>
    <section class="section">

        <div class="section" id="vue-target" v-cloak>
            <h1>BSOE Courses</h1>
            <h4>Navigate to course page by clicking on the course number.</h4>
            <h4><i class="fa fa-star fa-lg has-text-warning"></i> Pin your favorites</h4>
            <br>
            <div class="columns is-mobile">

                <div class="field">
                    <div class="control">
                        <input name="d_elem" type="hidden" value="" id="d_elem">
                    </div>
                </div>


                <div class="column is-three-fifths is-offset-one-fifth">
                    <table class="table is-striped is-fullwidth ">
                        <tr>
                            <th>Number</th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th>Name</th>
                            <th></th>
                            <th>Favorite</th>
                            <!--                            <th></th>-->
                            <!--                            <th></th>-->
                        </tr>

                        <tr v-for="r in class_rows">

                            <td><a v-bind:href="'[[=URL('resources')]]/'+ r.number">{{r.number}}</a></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>{{r.name}}</td>
                            <td></td>
                            <td>
                                <div v-if="r.favorite == 1">
                                    <i class="fa fa-star fa-lg has-text-warning" v-on:click="set_star_status(r._idx, 0, 1)"></i>
                                </div>

                                <div v-if="r.favorite == 0">
                                    <i class="fa fa-star-o fa-lg has-text-warning" v-on:click="set_star_status(r._idx, 1, 0)"></i>
                                </div>
                            </td>
                            <!--                            <td></td>-->
                            <!--                            <td></td>-->
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </section>
</body>

<script type="text/javascript" src="https://code.jquery.com/jquery-1.7.1.min.js"></script>
<script language="javascript" type="text/javascript">
    document.getElementById("name").addEventListener("click", search);

    function search() {


        $("#name").bind('input', function() {
            if (checkExists($('#name').val()) === true) {
                var url = "";
                var text = $('#name').val();
                var lower = text.toLowerCase();
                var url1 = '/resources/';
                url = url1.concat(lower)

                window.location.href = url;
            }
        });
    }

    function checkExists(inputValue) {
        console.log(inputValue);

        var x = document.getElementById("browsers");
        var i;
        var flag;
        for (i = 0; i < x.options.length; i++) {
            if (inputValue == x.options[i].value) {
                flag = true;
            }
        }
        return flag;
    }
</script>
[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
    let star_url = "[[=XML(star_url)]]";
    let load_classes_url = "[[=XML(load_classes_url)]]";
    let load_contacts_url = "[[=XML(load_contacts_url)]]";
    let file_info_url = "[[=XML(file_info_url)]]";
</script>
<script src="js/index.js"></script>
[[end]]